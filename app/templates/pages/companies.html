{% extends "layouts/app_shell.html" %}
{% set active_nav = "companies" %}

{% block title %}Companies · Gestium{% endblock %}
{% block page_title %}Companies{% endblock %}
{% block page_subtitle %}Gestión de empresas del tenant{% endblock %}

{% block topbar_actions %}
<a class="btn btn--primary" href="#newCompanyForm"><i class="ph ph-plus"></i><span class="hide-sm">Nueva empresa</span></a>
{% endblock %}

{% block content %}
<section class="stack" style="gap:16px;">
  <div class="card">
    <div class="card-hd row" style="justify-content:space-between;">
      <b><i class="ph ph-buildings"></i> Companies</b>
      <button class="btn" id="refreshCompaniesBtn" type="button">Refresh</button>
    </div>
    <div class="card-bd">
      <div class="table-wrap">
        <table class="table">
          <thead>
            <tr>
              <th>Name</th>
              <th>Tax ID</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="companiesTbody"></tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="card" id="newCompanyForm">
    <div class="card-hd"><b>Nueva empresa</b></div>
    <div class="card-bd">
      <form id="createCompanyForm" class="row" style="gap:12px;flex-wrap:wrap;align-items:flex-end;">
        <label class="field" style="flex:1;min-width:220px;">
          <span>Name</span>
          <input class="input" name="name" required>
        </label>
        <label class="field" style="flex:1;min-width:220px;">
          <span>Tax ID</span>
          <input class="input" name="tax_id" required>
        </label>
        <button class="btn btn--primary" type="submit">Crear</button>
      </form>
    </div>
  </div>
</section>
{% endblock %}

{% block page_js %}
<script type="module" src="{{ url_for('static', filename='js/pages/companies.js') }}"></script>
{% endblock %}
