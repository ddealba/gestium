{% extends "layouts/app.html" %}

{% block title %}Empresas Â· Gestium{% endblock %}

{% block content %}
<section class="ff-card">
  <div class="ff-card__head ff-page-head">
    <h2>Empresas</h2>
    <button id="refresh-companies" class="ff-btn ff-btn--ghost" type="button">
      <i class="ph ph-arrows-clockwise"></i>
      Recargar
    </button>
  </div>
  <div class="ff-card__body">
    <p id="companies-message" class="ff-form-message" aria-live="polite"></p>
    <div class="ff-table-wrap">
      <table class="ff-table" id="companies-table">
        <thead>
          <tr>
            <th>Nombre</th>
            <th>NIF</th>
            <th>Estado</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>
</section>

<section class="ff-card" id="company-access-panel" hidden>
  <div class="ff-card__head ff-page-head">
    <h3 id="company-access-title">Accesos</h3>
  </div>
  <div class="ff-card__body">
    <p id="company-access-message" class="ff-form-message" aria-live="polite"></p>
    <form id="company-access-form" class="ff-form" style="margin-bottom: 1rem;">
      <label>
        User ID
        <input id="acl-user-id" class="ff-input" type="text" required />
      </label>
      <label>
        Nivel
        <select id="acl-level" class="ff-input">
          <option value="viewer">viewer</option>
          <option value="operator">operator</option>
          <option value="manager">manager</option>
          <option value="admin">admin</option>
        </select>
      </label>
      <button class="ff-btn" type="submit">Guardar acceso</button>
    </form>
    <div class="ff-table-wrap">
      <table class="ff-table" id="company-access-table">
        <thead>
          <tr>
            <th>Email</th>
            <th>User ID</th>
            <th>Nivel</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>
</section>
{% endblock %}

{% block page_scripts %}
<script src="{{ url_for('static', filename='js/companies.js', v=ui_version) }}"></script>
{% endblock %}
