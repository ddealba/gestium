/* Kanban + Timeline + Drawer + Documents + Modal */
.ff-toolbar{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.ff-kpi-mini{display:flex;gap:10px;align-items:center}
.ff-kpi-mini .dot{width:10px;height:10px;border-radius:999px;background:var(--ff-primary)}
.ff-kpi-mini b{font-weight:900}

.ff-kanban{display:grid;grid-template-columns:repeat(12,minmax(0,1fr));gap:16px}
.ff-kanban__col{grid-column:span 3}
@media(max-width:1200px){.ff-kanban__col{grid-column:span 6}}
@media(max-width:720px){.ff-kanban__col{grid-column:span 12}}

.ff-column{
  background:rgba(255,255,255,.55);
  border:1px solid rgba(25,33,61,.08);
  border-radius:var(--ff-radius);
  box-shadow:var(--ff-shadow-soft);
  overflow:hidden;
}
.ff-column__head{
  padding:14px 14px 10px;
  display:flex;align-items:center;justify-content:space-between;gap:10px;
  background:linear-gradient(180deg, rgba(91,82,182,.06), transparent);
}
.ff-column__title{display:flex;align-items:center;gap:10px;font-weight:900}
.ff-column__count{
  min-width:22px;height:22px;padding:0 8px;border-radius:999px;
  display:inline-flex;align-items:center;justify-content:center;
  background:rgba(25,33,61,.08);color:rgba(25,33,61,.70);font-size:12px;font-weight:900;
}
.ff-column__body{padding:12px;display:flex;flex-direction:column;gap:12px;min-height:260px}
.ff-card-task{
  background:var(--ff-surface);
  border:1px solid rgba(25,33,61,.08);
  border-radius:16px;
  box-shadow:var(--ff-shadow-soft);
  padding:12px;
  cursor:grab;
  transition:transform .12s var(--ff-ease), box-shadow .12s var(--ff-ease);
}
.ff-card-task:hover{transform:translateY(-1px);box-shadow:var(--ff-shadow)}
.ff-card-task:active{cursor:grabbing}
.ff-task__top{display:flex;justify-content:space-between;gap:10px;align-items:flex-start}
.ff-task__title{font-weight:900}
.ff-task__meta{margin-top:8px;display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.ff-chip{
  display:inline-flex;align-items:center;gap:6px;
  padding:6px 10px;border-radius:999px;
  border:1px solid rgba(25,33,61,.08);
  background:rgba(255,255,255,.70);
  font-size:12px;color:var(--ff-muted);font-weight:800;
}
.ff-prio{font-weight:900}
.ff-prio--hi{color:var(--ff-danger)}
.ff-prio--md{color:var(--ff-warning)}
.ff-prio--lo{color:var(--ff-success)}
.ff-dropzone.is-over{outline:3px solid rgba(91,82,182,.22);outline-offset:3px}

.ff-timeline{position:relative;padding-left:14px;margin-top:10px}
.ff-timeline::before{
  content:"";position:absolute;left:7px;top:0;bottom:0;width:2px;
  background:rgba(25,33,61,.10);
  border-radius:999px;
}
.ff-event{
  position:relative;
  padding:12px 12px 12px 18px;
  border-radius:16px;
  border:1px solid rgba(25,33,61,.08);
  background:var(--ff-surface);
  box-shadow:var(--ff-shadow-soft);
  margin:0 0 12px 0;
}
.ff-event::before{
  content:"";position:absolute;left:-3px;top:18px;width:12px;height:12px;border-radius:999px;
  background:var(--ff-primary);
  box-shadow:0 10px 20px rgba(91,82,182,.20);
}
.ff-event__head{display:flex;justify-content:space-between;gap:12px;align-items:flex-start}
.ff-event__title{font-weight:900}
.ff-event__time{font-size:12px;color:var(--ff-muted);font-weight:900}
.ff-event__body{margin-top:6px;color:rgba(28,34,51,.78);line-height:1.45;font-weight:700}
.ff-event__meta{margin-top:10px;display:flex;gap:8px;flex-wrap:wrap}

.ff-drawer{position:fixed;inset:0;display:none;z-index:60}
.ff-drawer.is-open{display:block}
.ff-drawer__backdrop{position:absolute;inset:0;background:rgba(0,0,0,.35)}
.ff-drawer__panel{
  position:absolute;top:0;bottom:0;right:0;
  width:min(520px, 92vw);
  background:var(--ff-surface);
  border-left:1px solid rgba(25,33,61,.08);
  box-shadow:-18px 0 50px rgba(0,0,0,.18);
  border-radius:var(--ff-radius) 0 0 var(--ff-radius);
  overflow:auto;
}
.ff-drawer__head{padding:16px 18px;display:flex;align-items:center;justify-content:space-between;gap:12px}
.ff-drawer__body{padding:0 18px 18px}

.ff-doc-grid{display:grid;grid-template-columns:repeat(12,minmax(0,1fr));gap:16px}
.ff-doc{grid-column:span 4}
@media(max-width:1100px){.ff-doc{grid-column:span 6}}
@media(max-width:720px){.ff-doc{grid-column:span 12}}
.ff-doccard{
  background:var(--ff-surface);
  border:1px solid rgba(25,33,61,.08);
  border-radius:var(--ff-radius);
  box-shadow:var(--ff-shadow);
  overflow:hidden;
}
.ff-doccard__head{
  padding:14px 14px 10px;
  display:flex;justify-content:space-between;gap:10px;align-items:flex-start;
  background:linear-gradient(180deg, rgba(24,160,251,.08), transparent);
}
.ff-doccard__title{font-weight:900}
.ff-doccard__body{padding:0 14px 14px}

.ff-docrow{
  display:flex;align-items:center;justify-content:space-between;gap:12px;
  padding:12px 14px;
  border-bottom:1px solid rgba(25,33,61,.08);
}
.ff-docrow:last-child{border-bottom:0}
.ff-docleft{display:flex;align-items:center;gap:12px}
.ff-docicon{
  width:44px;height:44px;border-radius:16px;
  display:grid;place-items:center;
  background:rgba(91,82,182,.12);
  color:var(--ff-primary);
  border:1px solid rgba(91,82,182,.18);
}
.ff-docname{font-weight:900}
.ff-docsub{font-size:12px;color:var(--ff-muted);font-weight:800}

.ff-modal{position:fixed;inset:0;display:none;place-items:center;z-index:55}
.ff-modal.is-open{display:grid}
.ff-modal__backdrop{position:absolute;inset:0;background:rgba(0,0,0,.35)}
